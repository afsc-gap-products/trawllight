"0","```r
process_all <- function(surveys, ...) {

  vcr.out <- data.frame(
    haul = numeric(),
    depth = numeric(),
    k_aicc = numeric(),
    quality = numeric(),
    cruise = numeric(),
    vessel = numeric()
  )
  light.fit <- data.frame(
    haul = numeric(),
    aicc_span_fit = numeric(),
    aicc_nobs = numeric(),
    aicc_enp = numeric(),
    aicc_rse = numeric(),
    aicc_smooth_trace = numeric(),
    cruise = numeric(),
    vessel = numeric()
  )
  n.surveys <- nrow(surveys)
  for(t in 1:n.surveys) {
    # Step 1. Input directory and CastTimes and corr_MK9_hauls files
    vert <- vertical_profiles(light.file = paste(\"./data/LightData/Data/\", surveys$year[t],\"/\",surveys$region[t],\"/\",surveys$vessel[t],\"/corr_MK9hauls.csv\", sep = \"\"), 
                              cast.file = paste(\"./data/LightData/Data/\", surveys$year[t],\"/\",surveys$region[t],\"/\",surveys$vessel[t],\"/CastTimes.csv\", sep = \"\"), ...)
    # Step 2. Light filter
    filtered <- filter_stepwise(x = subset(vert$PROFILES, updown = \"Downcast\"), ...)

    attenuation_profile <- calculate_attenuation(x = filtered)
    attenuation_profile$attenuation$cruise <- rep(vert$CRUISE, nrow(attenuation_profile$attenuation))
    attenuation_profile$attenuation$vessel <- rep(vert$VESSEL, nrow(attenuation_profile$attenuation))
    attenuation_profile$fit_light$cruise <- rep(vert$CRUISE, nrow(attenuation_profile$fit_light))
    attenuation_profile$fit_light$vessel <- rep(vert$VESSEL, nrow(attenuation_profile$fit_light))
    
    # Write attenuation output file
    # write.csv(attenuation_profile$attenuation, file = paste(\"./data/LightData/Data/\", surveys$year[t],\"/\",surveys$region[t],\"/\",surveys$vessel[t],\"/cleaned_Light\",suffix,\".csv\", sep = \"\"), row.names = F)
    vcr.out <- rbind(vcr.out, attenuation_profile$attenuation)
    light.fit <- rbind(light.fit, attenuation_profile$fit_light)
    } 
  light_fit_and_attenuation <- list(light.fit = light.fit, atten.fit = vcr.out)
  return(light_fit_and_attenuation)
}
```"
